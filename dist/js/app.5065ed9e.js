(function(){"use strict";var t={6233:function(t,e,a){var o=a(6369),i=function(){var t=this,e=t._self._c;return e("v-app",[e("v-main",[e("router-view",{staticClass:"cont"})],1)],1)},l=[],r={data(){return{}}},s=r,n=a(1001),c=(0,n.Z)(s,i,l,!1,null,"da077a86",null),u=c.exports,d=a(2631),m=function(){var t=this,e=t._self._c;return e("div",[e("v-card",{staticClass:"my-bar v-navigation-drawer v-navigation-drawer--absolute v-navigation-drawer--open v-navigation-drawer--temporary theme--dark",attrs:{color:"primary"}},[e("v-list",{attrs:{dark:"",color:"primary"}},[e("v-list-item",{on:{click:function(e){return t.mostrar_menu()}}},[e("v-icon",[t._v("mdi-menu")])],1),e("v-divider"),e("br"),e("v-list-item-group",{attrs:{mandatory:""},model:{value:t.ventana,callback:function(e){t.ventana=e},expression:"ventana"}},t._l(t.secciones,(function(a){return e("v-list-item",{key:a.posicion},[e("v-list-item-icon",[e("v-tooltip",{attrs:{color:"black",right:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-icon",t._g(t._b({domProps:{textContent:t._s(a.icono)}},"v-icon",o,!1),i))]}}],null,!0)},[e("span",[t._v(t._s(a.nombre))])])],1),e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(a.nombre)}})],1)],1)})),1)],1)],1),e("v-navigation-drawer",{staticClass:"my-bar",attrs:{temporary:"",absolute:"",dark:"",color:"primary"},model:{value:t.ventanaDesplegada,callback:function(e){t.ventanaDesplegada=e},expression:"ventanaDesplegada"}},[e("v-list",[e("v-list-item",{staticClass:"px-2",on:{click:function(e){return t.ocultar_menu()}}},[e("v-icon",[t._v("mdi mdi-close")])],1)],1),e("v-divider"),e("br"),e("v-list-item-group",{attrs:{mandatory:""},model:{value:t.ventana,callback:function(e){t.ventana=e},expression:"ventana"}},t._l(t.secciones,(function(a){return e("v-list-item",{key:a.posicion},[e("v-list-item-icon",[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-icon",t._g(t._b({domProps:{textContent:t._s(a.icono)}},"v-icon",o,!1),i))]}}],null,!0)},[e("span",[t._v(t._s(a.nombre))])])],1),e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(a.nombre)}})],1)],1)})),1)],1),e("router-view",{staticClass:"my-router-view"})],1)},v=[],g=(a(560),{data(){return{secciones:[{icono:"mdi-account-hard-hat",nombre:"Trabajadores",routerName:"Trabajadores",posicion:0},{icono:"mdi-account-question",nombre:"Puestos",routerName:"Puestos",posicion:1},{icono:"mdi mdi-home-heart",nombre:"Parentescos",routerName:"Parentescos",posicion:2},{icono:"mdi-logout",nombre:"Cerrar Sesión",posicion:3}],ventana:null,ventanaDesplegada:!1}},watch:{ventana(){let t=this.$route.name;switch(this.ventana){case 0:"Trabajadores"!=t&&this.$router.push({name:"Trabajadores"});break;case 1:"Puestos"!=t&&this.$router.push({name:"Puestos"});break;case 2:"Parentescos"!=t&&this.$router.push({name:"Parentescos"});break;case 3:this.cerrarSesion();break;default:break}}},methods:{ventanaInicio(){let t=this.$route.name,e=this.secciones.filter((e=>e.routerName===t))[0].posicion;this.ventana!=e&&(this.ventana=e)},mostrar_menu(){this.ventanaDesplegada=!0},ocultar_menu(){this.ventanaDesplegada=!1},cambiarLogin(){this.$router.push({name:"Login"})},cerrarSesion(){localStorage.removeItem("token"),this.cambiarLogin()}},mounted(){let t=localStorage.getItem("token");t&&""!==t||this.cambiarLogin()}}),p=g,h=(0,n.Z)(p,m,v,!1,null,"0cc812c3",null),b=h.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-login-div"},[e("v-col",{attrs:{xl:"4",lg:"4",md:"4",sm:"8",xs:"12"}},[e("v-card",[e("v-card-title",[t._v("Login")]),e("v-card-text",[e("v-form",{ref:"form"},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",t._b({attrs:{label:"Usuario","prepend-inner-icon":"mdi-account",loading:t.loadingLogin},model:{value:t.dataLogin.usuario,callback:function(e){t.$set(t.dataLogin,"usuario",e)},expression:"dataLogin.usuario"}},"v-text-field",t.inputUsuario,!1))],1),e("v-col",{attrs:{cols:"12"}},[e("v-text-field",t._b({attrs:{label:"Contraseña","prepend-inner-icon":"mdi-key",type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",loading:t.loadingLogin},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.dataLogin.contrasena,callback:function(e){t.$set(t.dataLogin,"contrasena",e)},expression:"dataLogin.contrasena"}},"v-text-field",t.inputPassword,!1))],1),e("v-col",{staticClass:"d-flex",attrs:{cols:"12","justify-center":""}},[e("v-btn",{staticClass:"my-btn ml-auto mr-auto",attrs:{color:"primary",loading:t.loadingLogin},on:{click:function(e){return t.validarLogin()}}},[t._v("Ingresar")])],1)],1)],1)],1)],1)],1),e("MiAlerta",{ref:"MiAlerta"})],1)},_=[],D=a(4161),P=function(){var t=this,e=t._self._c;return e("div",[e("v-alert",{staticClass:"miAlerta",attrs:{value:t.alerta,dark:"",border:"left",type:t.tipoAlerta,transition:"slide-y-transition"},on:{click:function(e){return t.ocultar()}}},[t._v(" "+t._s(t.mensajeAlerta)+" ")])],1)},x=[],y={data(){return{alerta:!1,tipoAlerta:"info",mensajeAlerta:"",alertOptions:{422:{tipoAlerta:"warning",mensajeAlerta:"Faltan datos obligatorios."},200:{tipoAlerta:"success",mensajeAlerta:"La operación se completó con éxito."},400:{tipoAlerta:"warning",mensajeAlerta:"Hubo un problema con los datos proporcionados."},401:{tipoAlerta:"error",mensajeAlerta:"No tienes permiso para realizar esta acción."},404:{tipoAlerta:"error",mensajeAlerta:"El recurso que estás buscando no se ha encontrado."},405:{tipoAlerta:"error",mensajeAlerta:"El método de solicitud utilizado no está permitido."},409:{tipoAlerta:"warning",mensajeAlerta:"El recurso que intentas crear ya existe."},500:{tipoAlerta:"error",mensajeAlerta:"Hubo un error en el servidor."}}}},methods:{mostrar(t){this.mensajeAlerta=this.alertOptions[t].mensajeAlerta?this.alertOptions[t].mensajeAlerta:null,this.tipoAlerta=this.alertOptions[t].tipoAlerta?this.alertOptions[t].tipoAlerta:null,this.alerta=!0,setTimeout(this.ocultar,2500)},ocultar(){this.alerta=!1}}},k=y,C=(0,n.Z)(k,P,x,!1,null,"86123d10",null),j=C.exports,w={components:{MiAlerta:j},data(){return{inputUsuario:{outlined:!1,dense:!0,required:!0,rules:[t=>null!==t||"Campo Requerido"]},inputPassword:{outlined:!1,dense:!0,required:!0,type:"password",rules:[t=>null!==t||"Campo Requerido"]},dataLogin:{usuario:null,contrasena:null},loadingLogin:!1,showPassword:!1}},methods:{validarLogin(){this.$refs.form.validate()&&this.postLogin()},postLogin(){this.loadingLogin=!0,D.Z.post("Authentication/Login",this.dataLogin).then((t=>{localStorage.setItem("token",t.data.token),localStorage.getItem("token")&&this.cambiarLogin()})).catch((t=>{localStorage.removeItem("token"),console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingLogin=!1}))},cambiarLogin(){this.$router.push({name:"Contenedor"})},miAlerta(t){this.$refs.MiAlerta.mostrar(t)}}},A=w,T=(0,n.Z)(A,f,_,!1,null,"50b65aca",null),q=T.exports,F=function(){var t=this,e=t._self._c;return t.dataUser?e("div",{staticClass:"cont"},[e("div",{staticClass:"foto-fondo"},[t.dataUser.foto?e("v-img",{staticClass:"img-fondo",attrs:{src:t.dataUser.foto,gradient:"to top, rgba(0,0,0,.8), rgba(0,0,0,.5)",height:"350",width:"100%"}}):t._e(),e("span",{staticClass:"white--text text-fondo"},[t._v(t._s(t.dataUser.nombre)+" "+t._s(t.dataUser.apellidoP)+" "+t._s(t.dataUser.apellidoM)+" "),e("span",{staticClass:"subtext-fondo"},[t._v("("+t._s(t.dataUser.puesto)+")")])])],1),e("div",{staticClass:"cont-data"},[e("v-card",{attrs:{width:"100%"}},[e("v-card-title",{staticClass:"d-flex justify-center"},[e("v-row",[e("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[e("v-icon",[t._v("mdi-cellphone")]),t._v(" "+t._s(t.dataUser.numCelular)+" ")],1),e("v-col",{attrs:{cols:"12"}},[e("v-simple-table",[[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v(" Familiar ")]),e("th",{staticClass:"text-left"},[t._v(" Edad ")])])]),e("tbody",t._l(t.dataUser.familiares,(function(a){return e("tr",{key:a.idFamilia},[e("td",[t._v(t._s(a.nombre)+" "+t._s(a.apellidoP)+" "+t._s(a.apellidoM))]),e("td",[t._v(t._s(a.edad))])])})),0)]],2)],1)],1)],1)],1)],1)]):t._e()},Q=[],S={data(){return{dataUser:{}}},methods:{getDatosQr(t){const e=D.Z.create({baseURL:"https://aavisor.azurewebsites.net/api"});e.get("Trabajador/Buscar/"+t).then((t=>{this.dataUser=Object.assign({},t.data)})).catch((t=>{console.log(t)}))}},mounted(){let t=this.$route.params.id;this.getDatosQr(t)}},R=S,M=(0,n.Z)(R,F,Q,!1,null,"2692c1d8",null),O=M.exports,L=function(){var t=this,e=t._self._c;return e("div",[e("v-data-table",{attrs:{headers:t.headers,items:t.catTrabajadores,search:t.search,loading:t.loadingTable},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex justify-center"},[e("v-text-field",t._b({staticClass:"mr-5",model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},"v-text-field",t.inputSearch,!1)),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"ml-auto mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.getTrabajadores()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-reload")])],1)]}}])},[e("span",[t._v("Recargar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.openDialog()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-plus")])],1)]}}])},[e("span",[t._v("Nuevo Registro")])])],1)]},proxy:!0},{key:"item.acciones",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialog(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[e("span",[t._v("Editar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialogDelete(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-trash-can")])],1)]}}],null,!0)},[e("span",[t._v("Eliminar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openPreview(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-eye")])],1)]}}],null,!0)},[e("span",[t._v("Visualizar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:"",href:a.qr.url,download:"nombre_de_archivo.jpg",target:"_blank"}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-qrcode-scan")])],1)]}}],null,!0)},[e("span",[t._v("Descargar QR")])])]}}],null,!0)}),e("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{attrs:{color:"fondo"}},[e("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s(t.titleDialog)+" Registro")]),e("v-toolbar-items",{staticClass:"ml-auto"},[e("v-btn",{attrs:{text:"",loading:t.loadingDialog},on:{click:function(e){return t.validationForm()}}},[e("v-icon",[t._v("mdi-content-save")])],1),e("v-btn",{attrs:{text:""},on:{click:function(t){}}},[e("v-icon",[t._v("mdi-eye")])],1),e("v-btn",{attrs:{dark:"",text:"",loading:t.loadingDialog},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",[t._v(" mdi-close ")])],1)],1)],1),e("v-form",{ref:"form"},[e("v-card",{staticClass:"my-card",attrs:{elevation:"5"}},[e("v-card-title",[t._v("Datos Personales  "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[e("v-text-field",t._b({staticClass:"mr-3",attrs:{label:"Nombre(s)",loading:t.loadingDialog},model:{value:t.user.nombre,callback:function(e){t.$set(t.user,"nombre",e)},expression:"user.nombre"}},"v-text-field",t.inputText,!1))],1),e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[e("v-text-field",t._b({staticClass:"mr-3",attrs:{label:"Apellido Paterno",loading:t.loadingDialog},model:{value:t.user.apellidoP,callback:function(e){t.$set(t.user,"apellidoP",e)},expression:"user.apellidoP"}},"v-text-field",t.inputText,!1))],1),e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[e("v-text-field",t._b({staticClass:"mr-3",attrs:{label:"Apellido Materno",loading:t.loadingDialog},model:{value:t.user.apellidoM,callback:function(e){t.$set(t.user,"apellidoM",e)},expression:"user.apellidoM"}},"v-text-field",t.inputText,!1))],1),e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[e("v-autocomplete",t._b({staticClass:"mr-3",attrs:{items:t.catPuestos,"item-value":"idPuesto","item-text":"nombre",label:"Puesto",loading:t.loadingDialog},model:{value:t.user.idPuesto,callback:function(e){t.$set(t.user,"idPuesto",e)},expression:"user.idPuesto"}},"v-autocomplete",t.inputAutocomplete,!1))],1),e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[e("v-text-field",t._b({staticClass:"mr-3",attrs:{label:"Teléfono Móvil",loading:t.loadingDialog},model:{value:t.user.numCelular,callback:function(e){t.$set(t.user,"numCelular",e)},expression:"user.numCelular"}},"v-text-field",t.inputTelMovil,!1))],1),e("v-col",{attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"12"}},[t.cambioFoto?e("v-file-input",t._b({staticClass:"mr-3",attrs:{label:"Fotografia",accept:"image/png, image/jpeg, image/jpg",loading:t.loadingDialog},on:{change:t.convertToBase64},model:{value:t.fotoBase64,callback:function(e){t.fotoBase64=e},expression:"fotoBase64"}},"v-file-input",t.inputImage,!1)):t._e()],1)],1),e("v-row",["Editar"===t.titleDialog?e("v-col",{attrs:{cols:"12"}},[e("v-checkbox",{attrs:{label:"Cambiar Imagen",loading:t.loadingDialog},model:{value:t.cambioFoto,callback:function(e){t.cambioFoto=e},expression:"cambioFoto"}})],1):t._e(),e("v-col",{attrs:{cols:"12"}},[!t.cambioFoto&&t.user.foto?e("v-img",{attrs:{"max-height":"500","max-width":"500",src:t.user.foto,"lazy-src":t.user.foto,contain:"",loading:t.loadingDialog}}):t._e()],1)],1)],1)],1),e("v-card",{staticClass:"my-card",attrs:{elevation:"5"}},[e("v-card-title",[t._v("Datos de familiares  "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-data-table",{attrs:{headers:t.headersFamiliares,items:t.user.familiares,"hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex mt-2"},[e("v-btn",{staticClass:"ml-auto",attrs:{color:"primary",loading:t.loadingDialog},on:{click:function(e){return t.addFamiliar()}}},[t._v(" Agregar ")])],1)]},proxy:!0},{key:"item.idParentezco",fn:function({item:a}){return[e("v-autocomplete",t._b({attrs:{items:t.catParentescos,"item-value":"idParentesco","item-text":"nombre",loading:t.loadingDialog},model:{value:a.idParentezco,callback:function(e){t.$set(a,"idParentezco",e)},expression:"item.idParentezco"}},"v-autocomplete",t.inputAutocomplete,!1))]}},{key:"item.nombre",fn:function({item:a}){return[e("v-text-field",t._b({attrs:{loading:t.loadingDialog},model:{value:a.nombre,callback:function(e){t.$set(a,"nombre",e)},expression:"item.nombre"}},"v-text-field",t.inputText,!1))]}},{key:"item.apellidoP",fn:function({item:a}){return[e("v-text-field",t._b({attrs:{loading:t.loadingDialog},model:{value:a.apellidoP,callback:function(e){t.$set(a,"apellidoP",e)},expression:"item.apellidoP"}},"v-text-field",t.inputText,!1))]}},{key:"item.apellidoM",fn:function({item:a}){return[e("v-text-field",t._b({attrs:{loading:t.loadingDialog},model:{value:a.apellidoM,callback:function(e){t.$set(a,"apellidoM",e)},expression:"item.apellidoM"}},"v-text-field",t.inputText,!1))]}},{key:"item.edad",fn:function({item:a}){return[e("v-text-field",t._b({attrs:{loading:t.loadingDialog},model:{value:a.edad,callback:function(e){t.$set(a,"edad",e)},expression:"item.edad"}},"v-text-field",t.inputEdad,!1))]}},{key:"item.acciones",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.deleteFamiliar(a)}}},"v-btn",o,!1),i),[e("v-icon",[t._v("mdi-trash-can")])],1)]}}],null,!0)},[e("span",[t._v("Eliminar")])])]}}],null,!0)})],1)],1)],1)],1),e("v-card",{staticClass:"my-card",attrs:{elevation:"5"}},[e("v-card-title",[t._v("Tipo de QR  "),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-radio-group",{attrs:{mandatory:""},model:{value:t.user.qr.tipoQR,callback:function(e){t.$set(t.user.qr,"tipoQR",e)},expression:"user.qr.tipoQR"}},[e("v-row",t._l(t.opcionesQr,(function(a){return e("v-col",{key:a.value,attrs:{cols:"12",xl:"3",lg:"3",md:"3",sm:"6"}},[e("v-list-item",[e("v-radio",{attrs:{value:a.value,loading:t.loadingDialog}}),e("v-img",{attrs:{"max-height":"150","max-width":"200",src:a.imageUrl,"lazy-src":a.imageUrl,contain:"",loading:t.loadingDialog}})],1)],1)})),1)],1)],1)],1)],1),e("v-card-text",{staticClass:"d-flex align-left"},[e("v-checkbox",{staticClass:"mr-3",attrs:{label:"El QR lleva logo?"},model:{value:t.user.qr.imagenQR,callback:function(e){t.$set(t.user.qr,"imagenQR",e)},expression:"user.qr.imagenQR"}}),t.user.qr.imagenQR&&t.cambioFotoQr?e("v-file-input",t._b({staticClass:"mr-3",attrs:{accept:"image/png, image/jpeg, image/jpg",loading:t.loadingDialog},on:{change:t.convertQrToBase64},model:{value:t.qrBase64,callback:function(e){t.qrBase64=e},expression:"qrBase64"}},"v-file-input",t.inputImage,!1)):t._e()],1),e("v-card-text",[e("v-row",["Editar"===t.titleDialog?e("v-col",{attrs:{cols:"12"}},[e("v-checkbox",{attrs:{label:"Cambiar Imagen",loading:t.loadingDialog},model:{value:t.cambioFotoQr,callback:function(e){t.cambioFotoQr=e},expression:"cambioFotoQr"}})],1):t._e(),e("v-col",{attrs:{cols:"12"}},[!t.cambioFotoQr&&t.user.qr.urlImagenQR?e("v-img",{attrs:{"max-height":"500","max-width":"500",src:t.user.qr.urlImagenQR,"lazy-src":t.user.qr.urlImagenQR,contain:"",loading:t.loadingDialog}}):t._e()],1)],1)],1)],1),e("div",{staticStyle:{height:"30px"}})],1)],1)],1),e("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",[t._v('Se eliminará a "'+t._s(t.userDelete.nombre)+" "+t._s(t.userDelete.apellidoP)+" "+t._s(t.userDelete.apellidoM)+'"')]),e("v-card-actions",[e("v-btn",{attrs:{text:"",color:"success",loading:t.loadingDelete},on:{click:function(e){return t.closeDialogDelete()}}},[t._v("Cancelar")]),e("v-btn",{attrs:{text:"",color:"error",loading:t.loadingDelete},on:{click:function(e){return t.deleteTrabajador()}}},[t._v("Eliminar")])],1)],1)],1),e("v-dialog",{attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialogPreview,callback:function(e){t.dialogPreview=e},expression:"dialogPreview"}},[e("v-card",{attrs:{color:"fondo"}},[e("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[e("v-toolbar-title",[t._v("Datos de "+t._s(t.userPreview.nombre))]),e("v-toolbar-items",{staticClass:"ml-auto"},[e("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){return t.closeDialogPreview()}}},[e("v-icon",[t._v(" mdi-close ")])],1)],1)],1),e("v-card",{staticClass:"mx-auto"},[e("v-card",{staticClass:"d-flex justify-center",attrs:{dark:""}},[e("v-img",{staticClass:"img-user-preview",staticStyle:{position:"absolute",top:"10px","border-radius":"50%",width:"200px",height:"200px","z-index":"2"},attrs:{src:t.userPreview.foto}}),e("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/cards/forest.jpg",gradient:"to top, rgba(0,0,0,.44), rgba(0,0,0,.44)",height:"220"}})],1),e("v-card-title",{staticClass:"d-flex justify-center mt-150"},[t._v(" "+t._s(t.userPreview.nombre)+" "+t._s(t.userPreview.apellidoP)+" "+t._s(t.userPreview.apellidoM)+" ("+t._s(t.userPreview.puesto)+") ")])],1)],1)],1),e("MiAlerta",{ref:"MiAlerta"})],1)},$=[],U=(a(8858),a(1318),a(3228),{components:{MiAlerta:j},data(){return{inputSearch:{clearable:!0,class:"v-input__slot",label:"Buscar",clearIcon:"mdi-close-circle",appendIcon:"mdi-magnify",hideDetails:!0},inputText:{outlined:!1,dense:!1,required:!0,rules:[t=>null!==t&&""!==t||"Dato requerido"]},inputAutocomplete:{outlined:!1,dense:!1,required:!0,clearable:!0,rules:[t=>null!==t&&""!==t||"Dato requerido"]},inputTelMovil:{outlined:!1,dense:!1,required:!0,type:"number",inputmode:"numeric",counter:10,rules:[t=>null===t||""===t?"Dato requerido":!t||10==t.length||"Número no valido"]},inputEdad:{outlined:!1,dense:!1,required:!0,type:"number",inputmode:"numeric",counter:2,rules:[t=>null===t||""===t?"Dato requerido":!(t.length>2)||""]},inputMail:{outlined:!1,dense:!0,required:!0,type:"phone",rules:[t=>null===t||""===t?"Dato requerido":!!/.+@.+/.test(t)||"Formato no valido"]},inputImage:{required:!0,rules:[t=>null!==t&&""!==t||"Dato requerido"]},search:"",headers:[{text:"Nombre",value:"nombre",align:"center",sortable:!0},{text:"Apellido Paterno",value:"apellidoP",align:"center",sortable:!0},{text:"Apellido Materno",value:"apellidoM",align:"center",sortable:!0},{text:"Puesto",value:"puesto",align:"center",sortable:!0},{text:"Celular",value:"numCelular",align:"center",sortable:!0},{value:"acciones",align:"center",sortable:!1}],headersFamiliares:[{text:"Parentesco",value:"idParentezco",align:"center",sortable:!1},{text:"Nombre(s)",value:"nombre",align:"center",sortable:!1},{text:"Apellido Paterno",value:"apellidoP",align:"center",sortable:!1},{text:"Apellido Materno",value:"apellidoM",align:"center",sortable:!1},{text:"Edad",value:"edad",align:"center",sortable:!1},{value:"acciones",align:"center",sortable:!1}],catTrabajadores:[],catPuestos:[],catParentescos:[],user:{nombre:null,apellidoP:null,apellidoM:null,idPuesto:null,qr:{idQr:null,url:null,tipoQR:null,imagenQR:!1,urlImagenQR:null},numCelular:null,foto:null,familiares:[]},defaultUser:{nombre:null,apellidoP:null,apellidoM:null,idPuesto:null,qr:{idQr:null,url:null,tipoQR:null,imagenQR:!1,urlImagenQR:null},numCelular:null,foto:null,familiares:[]},userDelete:{nombre:null,apellidoP:null,apellidoM:null},defaultUserDelete:{nombre:null,apellidoP:null,apellidoM:null},userPreview:{idTrabajador:null,nombre:null,apellidoP:null,apellidoM:null,idPuesto:null,puesto:null,idQR:null,numCelular:null,foto:null,familiares:[{idFamilia:null,idParentezco:null,parentezco:null,nombre:null,apellidoP:null,apellidoM:null,edad:null}]},userPreviewDefault:{idTrabajador:null,nombre:null,apellidoP:null,apellidoM:null,idPuesto:null,puesto:null,idQR:null,numCelular:null,foto:null,familiares:[{idFamilia:null,idParentezco:null,parentezco:null,nombre:null,apellidoP:null,apellidoM:null,edad:null}]},idTrabajador:null,idFamiliar:0,titleDialog:"",cambioFoto:!0,cambioFotoQr:!0,ulrUserQr:null,imageUrl:null,fotoBase64:null,qrBase64:null,opcionesQr:[{value:1,imageUrl:"https://aavisor.azurewebsites.net/QRs/Plantillas/Qr1.png"},{value:2,imageUrl:"https://aavisor.azurewebsites.net/QRs/Plantillas/Qr2.png"},{value:3,imageUrl:"https://aavisor.azurewebsites.net/QRs/Plantillas/Qr3.png"},{value:4,imageUrl:"https://aavisor.azurewebsites.net/QRs/Plantillas/Qr4.png"}],dialog:!1,dialog2:!1,dialogDelete:!1,dialogPreview:!1,loadingTable:!1,loadingDialog:!1,loadingDelete:!1}},methods:{mountedComponente(){this.getTrabajadores(),this.getPuestos(),this.getParentescos()},getTrabajadores(){this.loadingTable=!0,D.Z.get("Trabajador/Listar").then((t=>{this.catTrabajadores=t.data})).catch((t=>{console.log(t)})).finally((()=>{this.loadingTable=!1}))},postTrabajadores(){this.loadingDialog=!0,D.Z.post("Trabajador/Crear",this.user).then((t=>{this.miAlerta(200),this.getTrabajadores(),this.closeDialog(),this.closeDialog2()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},putTrabajadores(){this.loadingDialog=!0,D.Z.put("Trabajador/Actualizar/"+this.idTrabajador,{nombre:this.user.nombre,apellidoP:this.user.apellidoP,apellidoM:this.user.apellidoM,idPuesto:this.user.idPuesto,numCelular:this.user.numCelular,foto:this.cambioFoto?this.user.foto:null,qr:{tipoQR:this.user.qr.tipoQR,imagenQR:this.user.qr.imagenQR,urlImagenQR:this.cambioFotoQr?this.user.qr.urlImagenQR:null},familiares:this.user.familiares}).then((t=>{this.miAlerta(200),this.getTrabajadores(),this.closeDialog(),this.closeDialog2()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},deleteTrabajador(){this.loadingDelete=!0,D.Z.put("Trabajador/Desactivar/"+this.idTrabajador).then((t=>{this.miAlerta(200),this.getTrabajadores(),this.closeDialogDelete()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDelete=!1}))},getPuestos(){D.Z.get("Puesto/Listar").then((t=>{this.catPuestos=t.data})).catch((t=>{console.log(t)}))},getParentescos(){D.Z.get("Parentesco/Listar").then((t=>{this.catParentescos=t.data})).catch((t=>{console.log(t)}))},validationForm(){this.$refs.form.validate()&&("Nuevo"===this.titleDialog?this.postTrabajadores():this.putTrabajadores())},openDialog(t){this.cambioFoto=!0,this.cambioFotoQr=!0,this.dialog=!0,this.titleDialog=t?"Editar":"Nuevo",t&&(this.cambioFoto=!1,this.cambioFotoQr=!1,this.idTrabajador=t.idTrabajador,this.user=Object.assign({},t),this.user.familiares=JSON.parse(JSON.stringify(t.familiares)),this.user.qr=Object.assign({},t.qr))},closeDialog(){this.dialog=!1,this.user=Object.assign({},this.defaultUser),this.user.familiares=JSON.parse(JSON.stringify([])),this.user.qr=Object.assign({},this.defaultUser.qr),this.idTrabajador=null,this.idFamiliar=0,this.$refs.form.reset()},openDialogDelete(t){this.userDelete=Object.assign({},t),this.userDelete.qr=Object.assign({},t.qr),this.idTrabajador=t.idTrabajador,this.dialogDelete=!0},closeDialogDelete(){this.dialogDelete=!1,this.userDelete=Object.assign({},this.defaultUser),this.userDelete.qr=Object.assign({},this.defaultUser.qr)},openPreview(t){let e=t.idQR;this.$router.push({name:"Visualizar",params:{id:e}})},closeDialogPreview(){this.dialogPreview=!1},downloadQr(t){this.ulrUserQr=t.qr.url,D.Z.get(this.ulrUserQr,{responseType:"blob"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","nombre_de_archivo.jpg"),a.click(),window.URL.revokeObjectURL(e)})).catch((t=>{console.error("Error al descargar la imagen",t)}))},openDialog2(){this.dialog2=!0},closeDialog2(){this.dialog2=!1,this.user=Object.assign({},this.defaultUser),this.user.familiares=[],this.idFamiliar=0,this.$refs.form.reset()},convertToBase64(){if(this.fotoBase64){const t=new FileReader;t.onload=t=>{const e=t.target.result;this.user.foto=e.split(",")[1]},t.readAsDataURL(this.fotoBase64)}},convertQrToBase64(){if(this.qrBase64){const t=new FileReader;t.onload=t=>{const e=t.target.result;this.user.qr.urlImagenQR=e.split(",")[1]},t.readAsDataURL(this.qrBase64)}},addFamiliar(){this.user.familiares.push({idFamilia:this.idFamiliar++,idParentezco:null,nombre:null,apellidoP:null,apellidoM:null,edad:null})},deleteFamiliar(t){const e=this.user.familiares.indexOf(t);this.user.familiares.splice(e,1)},miAlerta(t){this.$refs.MiAlerta.mostrar(t)}},mounted(){this.mountedComponente()}}),Z=U,z=(0,n.Z)(Z,L,$,!1,null,"6507d525",null),I=z.exports,E=function(){var t=this,e=t._self._c;return e("div",[e("v-data-table",{attrs:{headers:t.headers,items:t.catParentescos,search:t.search,loading:t.loadingTable},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex justify-center"},[e("v-text-field",t._b({staticClass:"ml-auto mr-5",model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},"v-text-field",t.inputSearch,!1)),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"ml-auto mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.getParentescos()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-reload")])],1)]}}])},[e("span",[t._v("Recargar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.openDialog()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-plus")])],1)]}}])},[e("span",[t._v("Nuevo Registro")])])],1)]},proxy:!0},{key:"item.acciones",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialog(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[e("span",[t._v("Editar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialogDelete(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-trash-can")])],1)]}}],null,!0)},[e("span",[t._v("Eliminar")])])]}}],null,!0)}),e("v-dialog",{staticStyle:{"padding-bottom":"30px"},attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{attrs:{color:"fondo"}},[e("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s(t.titleDialog)+" Parentesco")]),e("v-toolbar-items",{staticClass:"ml-auto"},[e("v-btn",{attrs:{text:"",loading:t.loadingDialog},on:{click:function(e){return t.validationForm()}}},[e("v-icon",[t._v("mdi-content-save")])],1),e("v-btn",{attrs:{dark:"",text:"",loading:t.loadingDialog},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",[t._v(" mdi-close ")])],1)],1)],1),e("v-form",{ref:"form"},[e("v-card",{staticClass:"my-card",attrs:{elevation:"5"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",t._b({attrs:{label:"Parentesco",loading:t.loadingDialog},model:{value:t.parentesco.nombre,callback:function(e){t.$set(t.parentesco,"nombre",e)},expression:"parentesco.nombre"}},"v-text-field",t.inputText,!1))],1),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",t._b({staticClass:"mr-3",attrs:{label:"Descripción",loading:t.loadingDialog},model:{value:t.parentesco.descripcion,callback:function(e){t.$set(t.parentesco,"descripcion",e)},expression:"parentesco.descripcion"}},"v-textarea",t.inputText,!1))],1)],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",[t._v('Se eliminará el parentesco de "'+t._s(t.parentescoDelete.nombre)+'"')]),e("v-card-actions",[e("v-btn",{attrs:{text:"",color:"success",loading:t.loadingDelete},on:{click:function(e){return t.closeDialogDelete()}}},[t._v("Cancelar")]),e("v-btn",{attrs:{text:"",color:"error",loading:t.loadingDelete},on:{click:function(e){return t.deletePuesto()}}},[t._v("Eliminar")])],1)],1)],1),e("MiAlerta",{ref:"MiAlerta"})],1)},N=[],B={components:{MiAlerta:j},data(){return{inputSearch:{clearable:!0,class:"v-input__slot",label:"Buscar",clearIcon:"mdi-close-circle",appendIcon:"mdi-magnify",hideDetails:!0},inputText:{outlined:!1,dense:!1,required:!0,rules:[t=>null!==t&&""!==t||"Dato requerido"]},search:"",headers:[{text:"Parentesco",value:"nombre",align:"center",sortable:!1},{text:"Descripción",value:"descripcion",align:"center",sortable:!1},{value:"acciones",align:"center",sortable:!1}],catParentescos:[],parentesco:{idParentesco:null,nombre:null,descripcion:null},defaultParentesco:{idParentesco:null,nombre:null,descripcion:null},parentescoDelete:{idParentesco:null,nombre:null,descripcion:null},defaultParentescoDelete:{idParentesco:null,nombre:null,descripcion:null},idParentesco:null,titleDialog:"",dialog:!1,dialogDelete:!1,loadingTable:!1,loadingDialog:!1,loadingDelete:!1}},methods:{mountedComponente(){this.getParentescos()},getParentescos(){this.loadingTable=!0,D.Z.get("Parentesco/Listar").then((t=>{this.catParentescos=t.data})).catch((t=>{console.log(t)})).finally((()=>{this.loadingTable=!1}))},postParentesco(){this.loadingDialog=!0,D.Z.post("Parentesco/Crear",this.parentesco).then((t=>{this.miAlerta(200),this.getParentescos(),this.closeDialog()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},putParentesco(){this.loadingDialog=!0,D.Z.put("Parentesco/Actualizar/"+this.idParentesco,this.parentesco).then((t=>{this.miAlerta(200),this.getParentescos(),this.closeDialog()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},deletePuesto(){this.loadingDelete=!0,D.Z.put("Parentesco/Desactivar/"+this.idParentesco).then((t=>{this.miAlerta(200),this.getParentescos(),this.closeDialogDelete()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDelete=!1}))},validationForm(){this.$refs.form.validate()&&("Nuevo"===this.titleDialog?this.postParentesco():this.putParentesco())},openDialog(t){this.dialog=!0,this.titleDialog=t?"Editar":"Nuevo",t&&(this.idParentesco=t.idParentesco,this.parentesco=Object.assign({},t))},closeDialog(){this.dialog=!1,this.parentesco=Object.assign({},this.defaultParentesco),this.idParentesco=null,this.$refs.form.reset()},openDialogDelete(t){this.parentescoDelete=Object.assign({},t),this.idParentesco=t.idParentesco,this.dialogDelete=!0},closeDialogDelete(){this.dialogDelete=!1,this.parentescoDelete=Object.assign({},this.defaultParentesco)},miAlerta(t){this.$refs.MiAlerta.mostrar(t)}},mounted(){this.mountedComponente()}},J=B,V=(0,n.Z)(J,E,N,!1,null,"1f3d082c",null),H=V.exports,G=function(){var t=this,e=t._self._c;return e("div",[e("v-data-table",{attrs:{headers:t.headers,items:t.catPuestos,search:t.search,loading:t.loadingTable},scopedSlots:t._u([{key:"top",fn:function(){return[e("div",{staticClass:"d-flex justify-center"},[e("v-text-field",t._b({staticClass:"mr-5",model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},"v-text-field",t.inputSearch,!1)),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"ml-auto mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.getPuestos()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-reload")])],1)]}}])},[e("span",[t._v("Recargar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:a,on:o}){return[e("v-btn",t._g(t._b({staticClass:"mr-5 mt-5",attrs:{icon:""},on:{click:function(e){return t.openDialog()}}},"v-btn",a,!1),o),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-plus")])],1)]}}])},[e("span",[t._v("Nuevo Registro")])])],1)]},proxy:!0},{key:"item.acciones",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialog(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[e("span",[t._v("Editar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({attrs:o,on:i}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.openDialogDelete(a)}}},"v-btn",o,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("mdi-trash-can")])],1)]}}],null,!0)},[e("span",[t._v("Eliminar")])])]}}],null,!0)}),e("v-dialog",{staticStyle:{"padding-bottom":"30px"},attrs:{persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{attrs:{color:"fondo"}},[e("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s(t.titleDialog)+" Puesto")]),e("v-toolbar-items",{staticClass:"ml-auto"},[e("v-btn",{attrs:{text:"",loading:t.loadingDialog},on:{click:function(e){return t.validationForm()}}},[e("v-icon",[t._v("mdi-content-save")])],1),e("v-btn",{attrs:{dark:"",text:"",loading:t.loadingDialog},on:{click:function(e){return t.closeDialog()}}},[e("v-icon",[t._v(" mdi-close ")])],1)],1)],1),e("v-form",{ref:"form"},[e("v-card",{staticClass:"my-card",attrs:{elevation:"5"}},[e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",t._b({attrs:{label:"Puesto",loading:t.loadingDialog},model:{value:t.puesto.nombre,callback:function(e){t.$set(t.puesto,"nombre",e)},expression:"puesto.nombre"}},"v-text-field",t.inputText,!1))],1),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",t._b({staticClass:"mr-3",attrs:{label:"Descripción",loading:t.loadingDialog},model:{value:t.puesto.descripcion,callback:function(e){t.$set(t.puesto,"descripcion",e)},expression:"puesto.descripcion"}},"v-textarea",t.inputText,!1))],1)],1)],1)],1)],1)],1)],1),e("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",[t._v('Se eliminará el puesto de "'+t._s(t.puestoDelete.nombre)+'"')]),e("v-card-actions",[e("v-btn",{attrs:{text:"",color:"success",loading:t.loadingDelete},on:{click:function(e){return t.closeDialogDelete()}}},[t._v("Cancelar")]),e("v-btn",{attrs:{text:"",color:"error",loading:t.loadingDelete},on:{click:function(e){return t.deletePuesto()}}},[t._v("Eliminar")])],1)],1)],1),e("MiAlerta",{ref:"MiAlerta"})],1)},K=[],W={components:{MiAlerta:j},data(){return{inputSearch:{clearable:!0,class:"v-input__slot",label:"Buscar",clearIcon:"mdi-close-circle",appendIcon:"mdi-magnify",hideDetails:!0},inputText:{outlined:!1,dense:!1,required:!0,rules:[t=>null!==t&&""!==t||"Dato requerido"]},search:"",headers:[{text:"Puesto",value:"nombre",align:"center",sortable:!1},{text:"Descripción",value:"descripcion",align:"center",sortable:!1},{value:"acciones",align:"center",sortable:!1}],catPuestos:[],puesto:{idPuesto:null,nombre:null,descripcion:null},defaultPuesto:{idPuesto:null,nombre:null,descripcion:null},puestoDelete:{idPuesto:null,nombre:null,descripcion:null},defaultPuestoDelete:{idPuesto:null,nombre:null,descripcion:null},idPuesto:null,titleDialog:"",dialog:!1,dialogDelete:!1,loadingTable:!1,loadingDialog:!1,loadingDelete:!1}},methods:{mountedComponente(){this.getPuestos()},getPuestos(){this.loadingTable=!0,D.Z.get("Puesto/Listar").then((t=>{this.catPuestos=t.data})).catch((t=>{console.log(t)})).finally((()=>{this.loadingTable=!1}))},postPuesto(){this.loadingDialog=!0,D.Z.post("Puesto/Crear",this.puesto).then((t=>{this.miAlerta(200),this.getPuestos(),this.closeDialog()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},putPuesto(){this.loadingDialog=!0,D.Z.put("Puesto/Actualizar/"+this.idPuesto,this.puesto).then((t=>{this.miAlerta(200),this.getPuestos(),this.closeDialog()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDialog=!1}))},deletePuesto(){this.loadingDelete=!0,D.Z.put("Puesto/Desactivar/"+this.idPuesto).then((t=>{this.miAlerta(200),this.getPuestos(),this.closeDialogDelete()})).catch((t=>{console.log(t),this.miAlerta(500)})).finally((()=>{this.loadingDelete=!1}))},validationForm(){this.$refs.form.validate()&&("Nuevo"===this.titleDialog?this.postPuesto():this.putPuesto())},openDialog(t){this.dialog=!0,this.titleDialog=t?"Editar":"Nuevo",t&&(this.idPuesto=t.idPuesto,this.puesto=Object.assign({},t))},closeDialog(){this.dialog=!1,this.puesto=Object.assign({},this.defaultPuesto),this.idPuesto=null,this.$refs.form.reset()},openDialogDelete(t){this.puestoDelete=Object.assign({},t),this.idPuesto=t.idPuesto,this.dialogDelete=!0},closeDialogDelete(){this.dialogDelete=!1,this.puestoDelete=Object.assign({},this.defaultPuesto)},miAlerta(t){this.$refs.MiAlerta.mostrar(t)}},mounted(){this.mountedComponente()}},X=W,Y=(0,n.Z)(X,G,K,!1,null,"6cc3d801",null),tt=Y.exports;o["default"].use(d.ZP);const et=[{path:"/",name:"Login",component:q},{path:"/Panel",name:"Contenedor",component:b,children:[{path:"/Panel/Trabajadores",name:"Trabajadores",component:I},{path:"/Panel/Parentescos",name:"Parentescos",component:H},{path:"/Panel/Puestos",name:"Puestos",component:tt}]},{path:"/Visualizar/:id",name:"Visualizar",component:O}],at=new d.ZP({routes:et});at.beforeEach(((t,e,a)=>{t.matched.some((t=>t.meta.requiresAuth))?localStorage.getItem("token")?a():a("/"):a()}));var ot=at,it=a(3822);o["default"].use(it.ZP);var lt=new it.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),rt=a(707),st=a.n(rt),nt=(a(8556),a(6808));o["default"].use(st());var ct=new(st())({theme:{options:{customProperties:!0},themes:{light:{primary:"#0072C8",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",fondo:"#FFFFFF"}}},lang:{locales:{es:nt.Z},current:"es"}});o["default"].config.productionTip=!1;let ut=localStorage.getItem("token");ut&&(D.Z.defaults.headers.common["Authorization"]=ut),D.Z.defaults.baseURL="https://aavisor.azurewebsites.net/api",D.Z.defaults.headers.get["Accept"]="application/json",D.Z.defaults.headers.common["Content-Type"]="application/json",new o["default"]({router:ot,store:lt,vuetify:ct,render:t=>t(u)}).$mount("#app"),D.Z.defaults.transformRequest=[t=>JSON.stringify(t)],D.Z.interceptors.request.use((t=>(ut&&(t.headers["Authorization"]=ut),t))),o["default"].prototype.$http=D.Z}},e={};function a(o){var i=e[o];if(void 0!==i)return i.exports;var l=e[o]={exports:{}};return t[o].call(l.exports,l,l.exports,a),l.exports}a.m=t,function(){var t=[];a.O=function(e,o,i,l){if(!o){var r=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],l=t[u][2];for(var s=!0,n=0;n<o.length;n++)(!1&l||r>=l)&&Object.keys(a.O).every((function(t){return a.O[t](o[n])}))?o.splice(n--,1):(s=!1,l<r&&(r=l));if(s){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[o,i,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,l,r=o[0],s=o[1],n=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(n)var u=n(a)}for(e&&e(o);c<r.length;c++)l=r[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(u)},o=self["webpackChunktrabajo_am"]=self["webpackChunktrabajo_am"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(6233)}));o=a.O(o)})();
//# sourceMappingURL=app.5065ed9e.js.map